# ðŸ“˜ Transactions and Concurrency Control in DBMS

A **complete, beginnerâ€‘friendly, and examâ€‘oriented guide** to **Transactions** and **Concurrency Control** in **Database Management Systems (DBMS)**.

This README is written in **simple language**, with **clear tables**, **stepâ€‘byâ€‘step examples**, and **wellâ€‘structured explanations**, ready to **copy, edit, and download** for **GitHub, exams, and interviews**.

---

## ðŸ“Œ Table of Contents

1. What is a Transaction?
2. Why Transactions are Needed
3. Transaction States
4. ACID Properties
5. What is Concurrency?
6. Problems Caused by Concurrency
7. What is Concurrency Control?
8. Concurrency Control Techniques

   * Lock-Based Protocols
   * Two-Phase Locking (2PL)
   * Timestamp-Based Protocols
9. Serial vs Serializable Schedules
10. Summary Table

---

## 1ï¸âƒ£ What is a Transaction?

A **transaction** is a **sequence of database operations** that is treated as **one single logical unit of work**.

ðŸ‘‰ Either **all operations of a transaction are executed successfully**, or **none of them are executed**.

### ðŸ”¹ Example: Bank Transfer

Transfer â‚¹1000 from **Account A** to **Account B**.

Steps involved:

```text
1. Read balance of Account A
2. Subtract â‚¹1000 from Account A
3. Read balance of Account B
4. Add â‚¹1000 to Account B
```

âœ” If **all steps succeed** â†’ transaction is successful
âŒ If **any step fails** â†’ all changes are rolled back

---

## 2ï¸âƒ£ Why Transactions are Needed

Transactions are needed to:

* Maintain **data consistency**
* Handle **system failures** safely
* Prevent **partial updates**
* Support **multiple users working together**

Without transactions, databases would become **unreliable and incorrect**.

---

## 3ï¸âƒ£ Transaction States

A transaction moves through different states during execution.

| State                   | Meaning                   |
| ----------------------- | ------------------------- |
| **Active**              | Transaction is executing  |
| **Partially Committed** | Final statement executed  |
| **Committed**           | Changes permanently saved |
| **Failed**              | Error occurred            |
| **Aborted**             | Changes rolled back       |

### ðŸ”¹ Example

If power fails during money transfer:

* Transaction goes to **Failed**
* Then **Aborted**
* Database returns to original state

---

## 4ï¸âƒ£ ACID Properties

ACID properties ensure **reliable transaction processing**.

### ðŸ”¹ Atomicity

> All or nothing rule

âœ” Either entire transaction executes
âŒ Or no operation takes effect

---

### ðŸ”¹ Consistency

> Database moves from one valid state to another

âœ” All constraints are satisfied after transaction

---

### ðŸ”¹ Isolation

> Transactions do not interfere with each other

âœ” One transaction cannot see incomplete results of another

---

### ðŸ”¹ Durability

> Once committed, changes are permanent

âœ” Data survives crashes or power failure

---

## 5ï¸âƒ£ What is Concurrency?

**Concurrency** means:

> Multiple transactions executing **at the same time**.

### ðŸ”¹ Example

* User A withdraws money
* User B checks balance
* Both access the **same account** simultaneously

Concurrency improves **performance** but creates **problems** if unmanaged.

---

## 6ï¸âƒ£ Problems Caused by Concurrency

### âŒ Lost Update

Two transactions update the same data, one update is lost.

| Time | Transaction T1      | Transaction T2      |
| ---- | ------------------- | ------------------- |
| 1    | Read balance = 5000 |                     |
| 2    |                     | Read balance = 5000 |
| 3    | Write 4000          |                     |
| 4    |                     | Write 4500          |

âŒ Final balance is incorrect

---

### âŒ Dirty Read

A transaction reads **uncommitted data** from another transaction.

---

### âŒ Non-Repeatable Read

Same data gives **different values** when read twice.

---

### âŒ Phantom Read

New rows appear in repeated queries.

---

## 7ï¸âƒ£ What is Concurrency Control?

**Concurrency Control** is the mechanism used to:

> Ensure that concurrent transactions execute **safely** and **correctly**.

### ðŸŽ¯ Goals

* Maintain **consistency**
* Prevent concurrency problems
* Achieve **serializability**

---

## 8ï¸âƒ£ Concurrency Control Techniques

---

### ðŸ” Lock-Based Protocols

Transactions use **locks** to control access to data.

| Lock Type              | Meaning      |
| ---------------------- | ------------ |
| **Shared Lock (S)**    | Read only    |
| **Exclusive Lock (X)** | Read + Write |

âœ” Prevents multiple updates at same time

---

### ðŸ”’ Two-Phase Locking (2PL)

Transaction has **two phases**:

1. **Growing Phase** â†’ Acquire locks only
2. **Shrinking Phase** â†’ Release locks only

âœ” Guarantees serializability

---

### â± Timestamp-Based Protocol

* Each transaction gets a **timestamp**
* Older transactions get priority
* Conflicting operations are ordered by time

âœ” No deadlocks
âŒ Possible starvation

---

## 9ï¸âƒ£ Serial vs Serializable Schedules

### ðŸ”¹ Serial Schedule

Transactions execute **one after another**.

âœ” Always safe
âŒ Slow

---

### ðŸ”¹ Serializable Schedule

Transactions execute **concurrently** but final result is **same as serial execution**.

âœ” Safe
âœ” Fast

---

## ðŸ”Ÿ Summary Table

| Concept             | Meaning                       |
| ------------------- | ----------------------------- |
| Transaction         | Logical unit of work          |
| ACID                | Reliability rules             |
| Concurrency         | Multiple transactions at once |
| Concurrency Control | Manages safe execution        |
| Locking             | Controls data access          |
| Serializability     | Correct concurrent execution  |

---

## âœ… Final Notes

* **Transactions** ensure correctness
* **Concurrency control** ensures safety with multiple users
* Both are **core pillars of DBMS**
* Very important for **exams, interviews, and real systems**

---

ðŸ“Œ **Tip for Exams:**

> Always explain with **bank examples**, **tables**, and **ACID properties**.

---

ðŸŽ¯ You can now **Copy**, **Edit**, or **Download** this README directly for GitHub.
