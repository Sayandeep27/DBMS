# Encryption and Data Masking in DBMS

---

## What is Encryption in DBMS?

Encryption means converting readable data (**plain text**) into unreadable form (**cipher text**) using a **key**.

Only someone who has the correct key can read the original data.

### Example

```
Password  = myPass123
Encrypted = X9@#K$!2
```

Even if someone steals the data, it’s useless without the key.

---

## 1. Encryption At Rest (Data Stored in Database)

### What does “At Rest” mean?

At Rest means:

* Data is stored
* Data is not moving
* Data is sitting in:

  * Database tables
  * Hard disk
  * Backup files
  * Data warehouse

### Simple definition

Encryption at Rest means:

Data is encrypted while it is stored in the database or storage system.

### Real-Life Example

Think of a locker in a bank:

* Your valuables are inside
* Locker is locked
* Even if someone breaks into the bank, they cannot open the locker

That’s encryption at rest.

### DBMS Example

Suppose this table exists:

```
Users
-------------------------
UserID | Name | Password
-------------------------
1      | Ravi | myPass123
```

With encryption at rest, the database actually stores:

```
Users
---------------------------------
UserID | Name | Password
---------------------------------
1      | Ravi | 7F@9#K!X2
```

Database admins, hackers, disk thieves

❌ Cannot read passwords directly

### Where is At Rest Encryption Applied?

* Database files (.mdf, .db, .data files)
* Table data
* Indexes
* Backups
* Logs

### Why Encryption At Rest is Needed

* If disk is stolen
* If backup files leak
* If unauthorized admin access happens

Without encryption → data is readable
With encryption → data is safe

### Common Techniques

* AES (Advanced Encryption Standard)
* Transparent Data Encryption (TDE)
* Column-level encryption

---

## 2. Encryption In Transit (Data Moving Over Network)

### What does “In Transit” mean?

In Transit means:

* Data is moving
* Data travels from:

  * Client → Database
  * Application → Server
  * Database → Database

### Simple definition

Encryption in Transit means:

Data is encrypted while it is being sent over the network.

### Real-Life Example

Think of a sealed courier package:

* Package travels through many hands
* No one can see what’s inside
* Only receiver opens it

That’s encryption in transit.

### DBMS Example

You log in to an application:

```
Username = Ravi
Password = myPass123
```

Without encryption:

```
Ravi | myPass123   ← anyone sniffing network can see this
```

With encryption in transit:

```
A8#@!9X$ | 77@K!@X
```

Hackers on Wi-Fi, network sniffers, man-in-the-middle attackers

❌ Cannot read the data

### Where is In Transit Encryption Applied?

* Login credentials
* SQL queries
* Query results
* API calls

### Why Encryption In Transit is Needed

* Prevents data theft over network
* Protects against Wi-Fi hacking
* Stops man-in-the-middle attacks

### Common Techniques

* SSL (Secure Sockets Layer)
* TLS (Transport Layer Security)
* HTTPS
* Encrypted database connections

---

## 3. Quick Comparison (Very Important for Exams)

| Feature          | Encryption At Rest       | Encryption In Transit   |
| ---------------- | ------------------------ | ----------------------- |
| Data State       | Stored                   | Moving                  |
| Protects Against | Disk theft, backup leaks | Network attacks         |
| When Applied     | Before storing data      | Before sending data     |
| Example          | Encrypted table data     | Encrypted login request |
| Common Tech      | AES, TDE                 | SSL, TLS                |

---

## 4. Very Simple One-Line Summary

* Encryption at Rest → protects stored data
* Encryption in Transit → protects moving data

---

## 5. Common Interview / Exam Line

A secure DBMS must use both encryption at rest and encryption in transit, because protecting only one is not enough.

---

## Column-Level Encryption

### What is Column-Level Encryption?

Only specific columns in a database table are encrypted, not the entire database.

### Simple Definition

Only important fields (like password, credit card, Aadhaar) are encrypted. Other columns remain readable.

### Example Table

Before encryption:

```
Users
-----------------------------------------
UserID | Name  | Email        | Password
-----------------------------------------
1      | Ravi  | r@abc.com    | pass123
```

After column-level encryption:

```
Users
-----------------------------------------------
UserID | Name  | Email        | Password
-----------------------------------------------
1      | Ravi  | r@abc.com    | X8@#9$!A
```

### Why Column-Level Encryption is Used

* Not all data is sensitive
* Encrypting everything slows performance
* Fine-grained security control

### Advantages

* Strong protection for sensitive fields
* Less performance impact
* Flexible

### Disadvantages

* Key management complexity
* Slower queries
* App changes needed

### Common Use Cases

* Passwords
* Credit/Debit cards
* Aadhaar / SSN
* Bank accounts
* Medical records

---

## Full Disk Encryption

### What is Full Disk Encryption?

Everything on the disk is encrypted including database files.

### Advantages

* Easy to implement
* No app changes
* Protects entire system

### Disadvantages

* Does NOT protect against authorized DB users
* SQL injection

---

## Encryption vs Hashing

| Feature    | Encryption      | Hashing   |
| ---------- | --------------- | --------- |
| Type       | Two-way         | One-way   |
| Reversible | Yes             | No        |
| Key        | Yes             | No        |
| Use        | Confidentiality | Integrity |
| Example    | Credit cards    | Passwords |

Passwords should be **hashed**, not encrypted.

---

## What is Data Masking in DBMS?

Data Masking means hiding or changing sensitive data so that real values are not visible while still looking realistic.

Used mainly for **testing, training, demos**.

---

## Data Masking Techniques

### Substitution

Replacing real data with fake data.

### Shuffling

Rearranging values within the same column.

### Nulling Out

Replacing data with NULL or *****.

### Tokenization

Replacing data with tokens and storing originals securely.

---

## Quick Comparison Table (Exam-Ready)

| Technique    | Reversible | Use Case         |
| ------------ | ---------- | ---------------- |
| Substitution | No         | Testing          |
| Shuffling    | No         | Mask identity    |
| Nulling Out  | No         | Highly sensitive |
| Tokenization | Yes        | Payments         |

---

## One-Line Summary

* Substitution → fake data
* Shuffling → mixed data
* Nulling Out → no data
* Tokenization → reference data
