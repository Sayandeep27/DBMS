# Encryption and Data Masking in DBMS

---

## What is Encryption in DBMS?

Encryption means converting readable data (**plain text**) into unreadable form (**cipher text**) using a **key**.

Only someone who has the correct key can read the original data.

### Example

```
Password  = myPass123
Encrypted = X9@#K$!2
```

Even if someone steals the data, it’s useless without the key.

---

## 1. Encryption At Rest (Data Stored in Database)

### What does “At Rest” mean?

At Rest means:

* Data is stored
* Data is not moving
* Data is sitting in:

  * Database tables
  * Hard disk
  * Backup files
  * Data warehouse

### Simple definition

Encryption at Rest means:

Data is encrypted while it is stored in the database or storage system.

### Real-Life Example

Think of a locker in a bank:

* Your valuables are inside
* Locker is locked
* Even if someone breaks into the bank, they cannot open the locker

That’s encryption at rest.

### DBMS Example

Suppose this table exists:

```
Users
-------------------------
UserID | Name | Password
-------------------------
1      | Ravi | myPass123
```

With encryption at rest, the database actually stores:

```
Users
---------------------------------
UserID | Name | Password
---------------------------------
1      | Ravi | 7F@9#K!X2
```

Database admins, hackers, disk thieves

❌ Cannot read passwords directly

### Where is At Rest Encryption Applied?

* Database files (.mdf, .db, .data files)
* Table data
* Indexes
* Backups
* Logs

### Why Encryption At Rest is Needed

* If disk is stolen
* If backup files leak
* If unauthorized admin access happens

Without encryption → data is readable
With encryption → data is safe

### Common Techniques

* AES (Advanced Encryption Standard)
* Transparent Data Encryption (TDE)
* Column-level encryption

---

## 2. Encryption In Transit (Data Moving Over Network)

### What does “In Transit” mean?

In Transit means:

* Data is moving
* Data travels from:

  * Client → Database
  * Application → Server
  * Database → Database

### Simple definition

Encryption in Transit means:

Data is encrypted while it is being sent over the network.

### Real-Life Example

Think of a sealed courier package:

* Package travels through many hands
* No one can see what’s inside
* Only receiver opens it

That’s encryption in transit.

### DBMS Example

You log in to an application:

```
Username = Ravi
Password = myPass123
```

Without encryption:

```
Ravi | myPass123   ← anyone sniffing network can see this
```

With encryption in transit:

```
A8#@!9X$ | 77@K!@X
```

Hackers on Wi-Fi, network sniffers, man-in-the-middle attackers

❌ Cannot read the data

### Where is In Transit Encryption Applied?

* Login credentials
* SQL queries
* Query results
* API calls

### Why Encryption In Transit is Needed

* Prevents data theft over network
* Protects against Wi-Fi hacking
* Stops man-in-the-middle attacks

### Common Techniques

* SSL (Secure Sockets Layer)
* TLS (Transport Layer Security)
* HTTPS
* Encrypted database connections

---

## 3. Quick Comparison (Very Important for Exams)

| Feature          | Encryption At Rest       | Encryption In Transit   |
| ---------------- | ------------------------ | ----------------------- |
| Data State       | Stored                   | Moving                  |
| Protects Against | Disk theft, backup leaks | Network attacks         |
| When Applied     | Before storing data      | Before sending data     |
| Example          | Encrypted table data     | Encrypted login request |
| Common Tech      | AES, TDE                 | SSL, TLS                |

---

## 4. Very Simple One-Line Summary

* Encryption at Rest → protects stored data
* Encryption in Transit → protects moving data

---

## 5. Common Interview / Exam Line

A secure DBMS must use both encryption at rest and encryption in transit, because protecting only one is not enough.

---

## Column-Level Encryption

### What is Column-Level Encryption?

Only specific columns in a database table are encrypted, not the entire database.

### Simple Definition

Only important fields (like password, credit card, Aadhaar) are encrypted. Other columns remain readable.

### Example Table

Before encryption:

```
Users
-----------------------------------------
UserID | Name  | Email        | Password
-----------------------------------------
1      | Ravi  | r@abc.com    | pass123
```

After column-level encryption:

```
Users
-----------------------------------------------
UserID | Name  | Email        | Password
-----------------------------------------------
1      | Ravi  | r@abc.com    | X8@#9$!A
```

### Why Column-Level Encryption is Used

* Not all data is sensitive
* Encrypting everything slows performance
* Fine-grained security control

### Advantages

* Strong protection for sensitive fields
* Less performance impact
* Flexible

### Disadvantages

* Key management complexity
* Slower queries
* App changes needed

### Common Use Cases

* Passwords
* Credit/Debit cards
* Aadhaar / SSN
* Bank accounts
* Medical records

---

## Full Disk Encryption

### What is Full Disk Encryption?

Everything on the disk is encrypted including database files.

### Advantages

* Easy to implement
* No app changes
* Protects entire system

### Disadvantages

* Does NOT protect against authorized DB users
* SQL injection

---

## What is Encryption?

### Simple definition

Encryption is a **two-way process**:

Data is converted into unreadable form but can be converted back using a **key**.

```
Plain Text  →  Encryption  →  Cipher Text
Cipher Text →  Decryption  →  Plain Text
```

### Example

```
Password = myPass123
Encrypted = X8@#9$!A
```

With the correct key, you can get back:

```
X8@#9$!A → myPass123
```

### Why Encryption is Used

* Data must be read later
* Data must be shared securely
* Data must be recovered in original form

### Where Encryption is Used in DBMS

* Credit card numbers
* Aadhaar / SSN
* Bank account numbers
* Encrypted backups
* Data at rest
* Data in transit

### Key Point

If you need the original data back, you must use **encryption**.

---

## What is Hashing?

### Simple definition

Hashing is a **one-way process**:

Data is converted into a fixed-length value and **cannot be converted back**.

```
Input → Hash Function → Hash Value
```

No reverse operation exists.

### Example

```
Password = myPass123
Hash     = 322A9FBC019E
```

You **cannot** get back `myPass123` from the hash.

---

### Then How Is Password Checked?

When a user logs in:

1. User enters password → `myPass123`
2. System hashes it → `322A9FBC019E`
3. Compare with stored hash
4. If same → login success

No decryption needed.

---

### Why Hashing is Used

* Passwords should never be readable
* Even admins should not know passwords
* If database is leaked, passwords stay safe

### Where Hashing is Used

* User passwords
* PINs
* Digital signatures
* File integrity checks
* Data integrity validation

### Key Point

If you never need the original data, use **hashing**.

---

## Real-Life Analogy (Very Important)

**Encryption = Locker**

* You put items in a locker
* You can open it later using a key

**Hashing = Shredding Paper**

* You shred a document
* You can’t rebuild it
* You only check if two shreds match

---

## Side-by-Side Comparison (Exam Gold)

| Feature                         | Encryption       | Hashing                    |
| ------------------------------- | ---------------- | -------------------------- |
| Type                            | Two-way          | One-way                    |
| Can original data be recovered? | Yes              | No                         |
| Uses a key?                     | Yes              | No                         |
| Purpose                         | Confidentiality  | Integrity & authentication |
| Output size                     | Variable         | Fixed                      |
| Reversible                      | Yes              | No                         |
| Example use                     | Credit card data | Password storage           |

---

## Very Common Interview Question

**Q: Should passwords be encrypted or hashed?**

### Correct Answer

Passwords should be **hashed**, not encrypted.

### Why?

* No need to know the original password
* Even DB admins cannot see it
* More secure

---

## One-Line Exam Answers

* Encryption protects data by making it unreadable but reversible
* Hashing protects data by making it irreversible

---

## Simple Memory Trick

* Encryption → Lock & Unlock
* Hashing → Lock and throw away the key

---

## What is Data Masking in DBMS?

Data Masking means hiding or changing sensitive data so that real values are not visible while still looking realistic.

Used mainly for **testing, training, demos**.

---

## Data Masking Techniques

### Substitution

Replacing real data with fake data.

### Shuffling

Rearranging values within the same column.

### Nulling Out

Replacing data with NULL or *****.

### Tokenization

Replacing data with tokens and storing originals securely.

---

## Quick Comparison Table (Exam-Ready)

| Technique    | Reversible | Use Case         |
| ------------ | ---------- | ---------------- |
| Substitution | No         | Testing          |
| Shuffling    | No         | Mask identity    |
| Nulling Out  | No         | Highly sensitive |
| Tokenization | Yes        | Payments         |

---

## One-Line Summary

* Substitution → fake data
* Shuffling → mixed data
* Nulling Out → no data
* Tokenization → reference data
