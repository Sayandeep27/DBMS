# ğŸ“˜ Referential Integrity in DBMS (Foreign Key)

A **clean, beginnerâ€‘friendly, GitHubâ€‘ready guide** to understand **Referential Integrity** using **Foreign Keys** in **DBMS**, with **simple explanations, tables, and SQL examples**.

---

## ğŸ“Œ What is Referential Integrity?

**Referential Integrity** is a rule in a **Database Management System (DBMS)** that ensures **relationships between tables remain valid and consistent**.

ğŸ‘‰ It mainly applies to **Foreign Keys**.

**In simple words:**

> Referential Integrity makes sure that **data in one table correctly refers to data in another table**, and **no invalid or broken references exist**.

---

## ğŸ”‘ Understanding Foreign Key First

A **Foreign Key (FK)** is a column (or group of columns) in one table that **refers to the Primary Key of another table**.

### ğŸ”¹ Purpose of Foreign Key

* Connect two related tables
* Maintain data accuracy
* Avoid invalid references

---

## ğŸ§© Realâ€‘Life Analogy

Think of this like an **ID Card System**:

* **Student Table** â†’ Student ID (Primary Key)
* **Exam Table** â†’ Student ID (Foreign Key)

ğŸ‘‰ You **cannot record exam marks** for a student who **does not exist**.

That rule is **Referential Integrity**.

---

## ğŸ—‚ Example Tables

### ğŸŸ¦ Parent Table: `Department`

| Dept_ID | Dept_Name |
| ------- | --------- |
| 101     | HR        |
| 102     | IT        |
| 103     | Finance   |

* `Dept_ID` â†’ **Primary Key**

---

### ğŸŸ© Child Table: `Employee`

| Emp_ID | Emp_Name | Dept_ID |
| ------ | -------- | ------- |
| 1      | Rahul    | 101     |
| 2      | Anita    | 102     |
| 3      | Karan    | 103     |

* `Dept_ID` â†’ **Foreign Key**
* It refers to `Department(Dept_ID)`

---

## âœ… What Referential Integrity Ensures

| Rule            | Meaning                                      |
| --------------- | -------------------------------------------- |
| Valid Reference | Foreign key value must exist in parent table |
| No Orphans      | No child record without a parent             |
| Consistency     | Updates/deletes are controlled               |

---

## âŒ Referential Integrity Violation Examples

### âŒ Case 1: Inserting Invalid Foreign Key

Trying to insert this:

| Emp_ID | Emp_Name | Dept_ID |
| ------ | -------- | ------- |
| 4      | Suresh   | 105     |

ğŸš« **Problem:**

* `Dept_ID = 105` does not exist in `Department` table

ğŸ‘‰ **DBMS will reject this insertion**

---

### âŒ Case 2: Deleting Referenced Parent Record

Trying to delete:

```
DELETE FROM Department WHERE Dept_ID = 101;
```

ğŸš« **Problem:**

* Employees still belong to `Dept_ID = 101`

ğŸ‘‰ DBMS prevents deletion **to avoid orphan records**

---

## ğŸ”„ Referential Actions (Rules)

DBMS allows you to define **what should happen** when parent data is **UPDATED or DELETED**.

---

### 1ï¸âƒ£ ON DELETE CASCADE

* Deletes child rows automatically

```
FOREIGN KEY (Dept_ID)
REFERENCES Department(Dept_ID)
ON DELETE CASCADE;
```

ğŸ”¹ If a department is deleted â†’ all related employees are deleted

---

### 2ï¸âƒ£ ON DELETE SET NULL

* Sets foreign key value to NULL

```
ON DELETE SET NULL;
```

ğŸ”¹ Employee remains, but department becomes `NULL`

---

### 3ï¸âƒ£ ON DELETE SET DEFAULT

* Sets FK to default value

```
ON DELETE SET DEFAULT;
```

ğŸ”¹ Rarely used

---

### 4ï¸âƒ£ ON DELETE RESTRICT / NO ACTION

* Prevents deletion if child exists

```
ON DELETE RESTRICT;
```

ğŸ”¹ Safest option (default behavior)

---

## ğŸ”„ ON UPDATE Rules

| Rule     | Behavior                       |
| -------- | ------------------------------ |
| CASCADE  | Updates child FK automatically |
| RESTRICT | Blocks update                  |
| SET NULL | Sets FK to NULL                |

---

## ğŸ§  Why Referential Integrity is Important

| Benefit          | Explanation                    |
| ---------------- | ------------------------------ |
| Data Accuracy    | Prevents invalid references    |
| Data Consistency | Keeps tables synchronized      |
| Error Prevention | Avoids orphan records          |
| Better Design    | Enforces logical relationships |

---

## âš  Without Referential Integrity (Problem)

| Issue           | Example                                    |
| --------------- | ------------------------------------------ |
| Orphan Records  | Employee linked to nonâ€‘existing department |
| Data Corruption | Wrong reports                              |
| Manual Cleanup  | More maintenance effort                    |

---

## ğŸ§ª SQL Example (Complete)

```sql
CREATE TABLE Department (
    Dept_ID INT PRIMARY KEY,
    Dept_Name VARCHAR(50)
);

CREATE TABLE Employee (
    Emp_ID INT PRIMARY KEY,
    Emp_Name VARCHAR(50),
    Dept_ID INT,
    FOREIGN KEY (Dept_ID)
    REFERENCES Department(Dept_ID)
    ON DELETE RESTRICT
    ON UPDATE CASCADE
);
```

---

## ğŸ“Œ Key Takeaways

* **Referential Integrity** ensures valid relationships between tables
* Implemented using **Foreign Keys**
* Prevents invalid inserts, updates, and deletes
* Keeps database **clean, reliable, and trustworthy**

---

## â­ Oneâ€‘Line Definition (Exam Ready)

> **Referential Integrity** ensures that every foreign key value in a child table matches a valid primary key value in the parent table.

---

## ğŸ“¥ Ready for GitHub

âœ” Clean headings
âœ” Proper tables
âœ” SQL examples
âœ” Beginnerâ€‘friendly explanations
âœ” Professional README format

---

**If you want:**

* MCQs
* Interview questions
* Diagrams
* Comparison with ER model

Just tell me ğŸ‘
